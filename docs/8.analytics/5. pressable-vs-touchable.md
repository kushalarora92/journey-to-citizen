# Pressable vs TouchableOpacity for Analytics

Quick reference on when to use `Pressable` vs `TouchableOpacity` for tracking user interactions.

---

## Summary

We use different touchable components based on **intent**:

| Component | Use For | Visual Feedback | Cursor (Web) |
|-----------|---------|-----------------|--------------|
| **TouchableOpacity** | Action buttons, navigation | Opacity change (0.7-0.8) | Pointer (clickable) |
| **Pressable** | Informational sections | None (tracking only) | Auto (not clickable) |

---

## When to Use TouchableOpacity

Use `TouchableOpacity` for elements that **SHOULD look clickable** because they perform actions:

### Examples:
- ‚úÖ Buttons (Submit, Save, Cancel)
- ‚úÖ Navigation items (Quick Actions, "Go to Profile")
- ‚úÖ Alerts with actions (Upcoming Trips alert ‚Üí navigate to absences)
- ‚úÖ Interactive cards that navigate (Complete Profile button)

### Code Pattern:
```tsx
<TouchableOpacity 
  style={styles.button}
  onPress={() => {
    trackEvent('button_click');
    router.push('/somewhere');
  }}
  activeOpacity={0.7}  // Visual feedback
>
  <Text>Click Me</Text>
</TouchableOpacity>
```

---

## When to Use Pressable

Use `Pressable` for **informational sections** where you want to track if users are seeking more information, but it's NOT a primary action:

### Examples:
- ‚úÖ Greeting section (Welcome message)
- ‚úÖ Info cards (Important Rules, Disclaimers)
- ‚úÖ Statistics displays (Days as PR, Progress cards)
- ‚úÖ Calculation breakdowns (How We Calculate)
- ‚úÖ Helper text sections (Tips, Notes)

### Code Pattern:
```tsx
<Pressable 
  style={styles.infoCard}
  onPress={() => trackEvent('info_section_click', { section: 'rules' })}
>
  <Text>‚ÑπÔ∏è Important information here...</Text>
</Pressable>
```

**No visual feedback** - looks like regular content but tracks interest.

---

## Why This Matters

### User Experience
1. **Clear affordances:** Users know what's clickable (opacity change) vs informational
2. **No confusion:** Informational sections don't look interactive
3. **Better accessibility:** Screen readers can distinguish actions from content

### Analytics Benefits
1. **Track curiosity:** See if users want more details on info sections
2. **Identify gaps:** High clicks on info = need for expandable/tooltip
3. **Behavior insights:** Understand what users are trying to learn

---

## Web Cursor Behavior

### Problem
By default, `Pressable` shows a pointer cursor on web, making non-action items look clickable.

### Solution
Use inline style to override cursor:

```tsx
<Pressable 
  style={styles.infoCard}
  onPress={() => trackEvent('...')}
>
  {/* Content */}
</Pressable>
```

Add to stylesheet:
```typescript
infoCard: {
  // ... other styles
  cursor: Platform.OS === 'web' ? 'auto' : undefined,
}
```

Or use inline style:
```tsx
<Pressable 
  style={[
    styles.infoCard,
    Platform.OS === 'web' && { cursor: 'auto' }
  ]}
  onPress={() => trackEvent('...')}
>
```

---

## Implementation Status

### Dashboard (`app/(tabs)/index.tsx`)
- ‚úÖ Greeting section: **Pressable** (informational)
- ‚úÖ Email verification warning: **Pressable** (informational)
- ‚úÖ Eligibility status card: **Pressable** (informational)
- ‚úÖ Progress card: **Pressable** (informational)
- ‚úÖ Stat cards (3x): **Pressable** (informational)
- ‚úÖ Calculation card: **Pressable** (informational)
- ‚úÖ Disclaimer: **Pressable** (informational)
- ‚úÖ Upcoming trips alert: **TouchableOpacity** (navigates to absences)
- ‚úÖ Complete profile button: **TouchableOpacity** (navigates to profile)
- ‚úÖ Quick actions (2x): **TouchableOpacity** (navigation buttons)

### Travel Absences (`app/(tabs)/absences.tsx`)
- ‚úÖ Important Rules card: **Pressable** (informational)
- ‚úÖ Filter buttons (4x): **Pressable** (informational stats)
- ‚úÖ Tip section: **Pressable** (informational)

### Profile (`app/(tabs)/profile.tsx`)
- ‚úÖ Visitor stays helper text: **Pressable** (informational)
- ‚úÖ Travel absences reminder: **Pressable** (informational)

---

## Quick Decision Tree

```
Is this element an ACTION that changes state or navigates?
‚îú‚îÄ YES ‚Üí Use TouchableOpacity (with activeOpacity)
‚îÇ         Examples: Buttons, Navigation, Submit
‚îÇ
‚îî‚îÄ NO ‚Üí Is it informational content you want to track?
          ‚îú‚îÄ YES ‚Üí Use Pressable (no visual feedback)
          ‚îÇ         Examples: Info cards, Statistics, Tips
          ‚îÇ
          ‚îî‚îÄ NO ‚Üí Use View (no interaction)
                    Examples: Headers, Static text
```

---

## Best Practices

### DO ‚úÖ
- Use TouchableOpacity for primary actions
- Use Pressable for tracking informational interest
- Keep cursor behavior consistent (auto for info, pointer for actions)
- Add tracking to both types
- Use clear visual hierarchy

### DON'T ‚ùå
- Don't make everything touchable "just because"
- Don't use activeOpacity on informational Pressables
- Don't forget to track the events
- Don't use same visual treatment for actions vs info
- Don't make users guess what's clickable

---

## Testing Checklist

### Visual Check
- [ ] Action buttons have opacity feedback
- [ ] Info sections look like static content
- [ ] Cursor changes to pointer only for actions (web)
- [ ] Consistent visual language across app

### Analytics Check
- [ ] All actions tracked with clear event names
- [ ] Info section clicks tracked separately
- [ ] Event parameters include context
- [ ] Events visible in Firebase DebugView

### Accessibility Check
- [ ] Screen readers announce buttons as buttons
- [ ] Info sections announced as content
- [ ] Focus states visible
- [ ] Keyboard navigation works

---

## Summary

**TouchableOpacity** = "Click me to DO something!"  
**Pressable** = "I track if you're curious, but I'm just info"  
**View** = "I'm just content, no interaction"

This creates a clear hierarchy and improves both UX and analytics insights! üéØ
